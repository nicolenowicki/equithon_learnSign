<!DOCTYPE html>
<html>
<head>
  <style type="text/css">
		div#board {
			background: #f4a142;
			width: 880px;
			height: 880px;
			padding: 10px;
			margin: 0px auto;
		}
		div#board > div {
			width: 200px;
			height: 200px;
			background-image: url('Card.png');
			float: left;
			margin: 10px;
		}
	</style>

  <script>
    var cardValues = ['A', 'B', 'I', 'N', 'P', 'R', 'X', 'Y', 'A', 'B', 'I', 'N', 'P', 'R', 'X', 'Y'];
    var cardsFlipped = [];
    var cardIds = [];
    var flipped = 0; 
    var totalMatches = 0;
    
    // add shuffle method

    function init(){
      flipped = 0;
      var output = '';
      for(var i = 0; i < cardValues.length; i++){
        output += '<div id="tile_'+i+'" onclick="flip(this,\''+cardValues[i]+'\')"></div>';
      }
      document.getElementById('board').innerHTML = output;
    }
    
    function flip(card, value) {
      if (flipped < 2) {
        //card.innerHTML = value
        var fileString = 'CardFaces/asl_'+value+'.png'
        card.style.backgroundImage = "url("+fileString+")";
          
        cardsFlipped.push(value);
        cardIds.push(card.id);
          
        flipped++;
          
        if (flipped == 2) {
          if (cardsFlipped[0].innerHTML == cardsFlipped[1].innerHTML) {              
            cardsFlipped = [];
            cardsIds = [];
            flipped = 0;
            totalMatches++;

            if (totalMatches == 8) {
              document.getElementById("board").innerHTML = "";
              init();
            }

          } else {
             function flipBack() {
               var card1 = document.getElementById(cardIds[0]);
               var card2 = document.getElementById(cardIds[1]);
               card1.style.backgroundImage = 'url(Card.png)';
               card1.innerHTML = "";
               card2.style.backgroundImage = 'url(Card.png)';
               card2.innerHTML = "";

               cardsFlipped = [];
               cardIds = [];
               flipped = 0;
            }
            setTimeout(flipBack, 700);
          }
        }
      }
    }
    
  </script>
</head>
<body>
	<div id="board"></div>
	<script>init();</script>
</body>
</html>